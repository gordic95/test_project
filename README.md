## Тестовое задание на FastApi.

В директории task_managment у нас развернут проект для CRUD задач.

### database.py

У нас все взаимодействие с бд, у нас использована sqlite, лучшим решением будет использовать postrges.
По требованию могу подключить postgres и все обернуть в docekrfile. 

### main.py

Данный файл является точкой входа для приложения FastAPI и служит для начальной настройки и 
регистрации компонентов приложения.

### models .py

Этот файл содержит два важнейших элемента для работы с базой данных и приложением на FastAPI:
▌ 1. Определение модели задачи ()
Эта модель описывает структуру таблицы в базе данных, которая будет использоваться для хранения задач. 
Каждая задача характеризуется следующими свойствами:

- `id`: Уникальный идентификатор задачи, записанный в виде строки длиной 36 символов (это универсальный уникальный идентификатор UUID). 
- Значение этого поля генерируется автоматически при создании задачи с помощью библиотеки uuid.

- `title`: Название задачи, обязательно для заполнения (нельзя оставить пустым).

- `description`: Описание задачи, необязательно для заполнения (может быть пустым).

- `status`: Текущий статус задачи, выбираемый из трех возможных значений:

  - created — задача создана;
  - in_progress — задача в процессе выполнения;
  - completed — задача выполнена.

- `created_at`: Дата и время создания задачи, автоматически устанавливаются при создании задачи.

Модель построена с использованием SQLAlchemy и декораторов FastAPI, 
позволяющих прозрачно работать с объектами и автоматически проводить миграцию данных в базу.

▌ 2. Перечисление статусов задачи ()

Перечисление (enumeration) позволяет строго ограничить возможные статусы задачи тремя значениями: созданная, выполняемая и выполненная. Таким образом, в таблицу невозможно записать статус, отличный от перечисленных трёх.

### routers.py
Содержит нас все ссылки для CRUD. Этот файл реализует набор маршрутов (роутеров) для управления задачами в 
FastAPI с использованием SQLAlchemy для работы с базой данных.

Общая структура файла:

1. Импорты модулей и зависимостей:

   - FastAPI: Модули для работы с роутерами и исключениями.
   - SQLAlchemy: Необходимые инструменты для работы с моделью данных.
   - Внутренние модули: Импортируются вспомогательные функции и схемы для задач.

2. Функция `register_tasks_router`:
   Эта функция создаёт и возвращает роутер, содержащий маршруты для работы с задачами. Внутри нее определяются пять основных эндпоинтов (методов):

   ▌ a) Создание задачи ()

   - Принимает тело запроса с параметрами задачи (TaskCreate) и сохраняет новую задачу в базе данных.
   - Возвращает вновь созданную задачу.

   ▌ b) Получение задачи по идентификатору ()

   - Берёт UUID задачи и ищет её в базе данных.
   - Если задача не найдена, возвращает ошибку 404.
   - Иначе возвращает найденную задачу.

   ▌ c) Получение списка задач ()

   - Простой запрос для возврата всех задач из базы данных.

   ▌ d) Обновление задачи ()

   - Находит задачу по её UUID и обновляет её согласно данным, пришедшим в теле запроса (TaskUpdate).
   - Если задача не найдена, возвращает ошибку 404.

   ▌ e) Удаление задачи ()

   - Находит задачу по её UUID и удаляет её из базы данных.
   - Если задача не найдена, возвращает ошибку 404.

3. Возвращаемый роутер:
   После регистрации всех вышеуказанных маршрутов, функция возвращает объект роутера, готовый к включению в основное приложение FastAPI.

▌ Какие возможности предоставляет этот файл:

- Поддерживает полный цикл CRUD (создание, чтение, обновление и удаление) задач.
- Имеет четкую структуру и организацию путей, что облегчает дальнейшее обслуживание и тестирование.
- Работает с базой данных через SQLAlchemy, обеспечивая удобный доступ к модели данных.

### scheme.py
Мы имеем определения схем (моделей) Pydantic, 
используемых для работы с задачей (задачей) в проекте на FastAPI.
Эти схемы определяют структуру данных, поступающих на сервер и отправляющихся клиенту, 
а также правила валидации входящих данных.

▌ Краткое содержание файла:

1. Модель `TaskScheme`:

   - Представляет схему задачи с полной информацией:
     - id: уникальный идентификатор задачи (строка);
     - title: название задачи (обязательно);
     - description: описание задачи (необязательно);
     - status: статус задачи (один из предопределённых вариантов из перечисления StatusTask);
     - created_at: дата и время создания задачи.

   Эта модель предназначена для полного представления задачи, включая всю необходимую информацию. 
   Она полезна для вывода задач пользователю, например, при получении списка задач или одного элемента.

2. Модель `TaskCreate`:

   - Используется для создания новой задачи:
     - Содержит обязательные поля: title (название задачи);
     - Дополнительно принимает опциональное поле description (описание задачи).

   Эта модель необходима для отправки запроса на создание новой задачи и служит для валидации входящего тела запроса.

3. Модель `TaskUpdate`:

   - Предназначена для частичного обновления задачи:
     - Предоставляет возможность обновить любые из полей:
       - title;
       - description;
       - status (статус задачи может быть изменён на один из допустимых).

   Такая модель позволяет отправить запрос на изменение существующих задач, 
   предоставляя возможность изменять только те поля, которые нужны пользователю.

### tests.py

   - Файл представляет собой модуль тестов, написанный с использованием библиотеки Pytest, 
предназначенный для проверки функциональности REST API сервиса управления задачами (tasks).


### requirements.txt
   - Файл находится в корневом каталоге и содержит в себе все необходимые библиотеки и модули определенных версий.